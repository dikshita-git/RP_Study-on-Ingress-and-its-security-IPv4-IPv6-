
# howtos I used are
#  install calico
#   https://projectcalico.docs.tigera.io/getting-started/kubernetes/k3s/quickstart

- name: Download calico manifest calico.yaml
  get_url:
    url: https://projectcalico.docs.tigera.io/manifests/calico.yaml
    dest: /home/vagrant/calico.yaml
    owner: vagrant
    group: vagrant
    mode: 0755
  register: calico

- name: Apply calico manifest calico.yaml
  ansible.builtin.shell: kubectl apply -f /home/vagrant/calico.yaml
  become: yes  
  when: calico.changed
