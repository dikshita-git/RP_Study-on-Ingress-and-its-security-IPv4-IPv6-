## This file consists of the results to Research question : "Basic properties of underlying implementations" with the following sub-questions:

<a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#a-nginx-based-ingress-controller-vs-haproxy-based-ingress-controller-vs-traefik">a) What are the principal point of differences between Traefik, HaProxy and Nginx?</a>

***************************************************************************************************************************



## a) Nginx-based Ingress controller Vs HaProxy-based ingress controller Vs Traefik

Ingress in kubernetes can be implemented by using different ingress controllers like Nginx, Haproxy, Traefik, Istio, Envoy etc. Each ingress should specify a ***class*** which can be defined as a reference to an <code>IngressClass</code> resource which contains additional configurations including the name of the controller that should implement the class. 

ðŸ’¡<b>NOTE:</b> ðŸ”¦

> ðŸ”´Without ingress class, the ingress controller will not evaluate the ingress rules.

Here is an example(see under annotations of the ingress.yaml):<a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Demo/Certificate_with_k3s%2Bnginx/Ingress.yaml"><code>Click here</code></a> 

##### The section below includes a comparison table showing the focal point of differences between the mostly used opensource ingress controllers. 

|                      |Nginx-based Ingress controller      |    HaProxy-based ingress controller       | Traefik      |
|     :---:    |            :---:                    |     :---:                                 |  :---:        |
| Build on | nginx/nginx plus   | haproxy    | traefik    |
| Supported Protocols | <ul><li>http/https</li><li><a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-http2">http2 * </a></li><li><a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-grpc">grpc * </a></li><li>tcp/udp</li></ul>   | <ul><li>http/https</li><li><a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-http2">http2 * </a></li><li><a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-grpc">grpc * </a></li><li>tcp</li><li>tcp+tls</li></ul>     | <ul><li>http/https</li><li><a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-http2">http2 * </a></li><li><a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-grpc">grpc * </a></li><li> tcp</li><li>tcp+tls</li></ul>    |
| Algorithm of loadbalancing    |     <ul><li>Round-Robin</li><li>Hash</li><li>IP Hash</li><li>Hash random</li><li>Sticky sessions</li></ul>     | <ul><li>Round-Robin</li><li>URI</li><li>url_param</li><li>Sticky session</li><li>Header</li></ul>       | <ul><li>Weighted Round-Robin</li><li>Dynamic-Round-robin</li><li>Sticky session</li></ul>      |
| Traffic routing logic  |     <ul><li>Host</li><li>Path</li><li>Header</li><li>Method</li><li>Query param (all with <a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-regex---regular-expression"> regex<sup> * </sup></a> expect host)</li></ul>     | <ul><li>Host</li><li>Path</li></ul>       | <ul><li>Host (<a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-regex---regular-expression"> regex<sup> * </sup></a>)</li><li>Path (<a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-regex---regular-expression"> regex<sup> * </sup></a>)</li><li>Headers(<a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Chapters/Results/3.1_Basic_properties_of_underlying_implementations.md#-regex---regular-expression"> regex<sup> * </sup></a>)</li><li>Query</li><li>Path Prefix</li><li>Method</li></ul>      |
| Authentication Protocols | <ul><li>Basic</li><li>Client cert</li><li>External OAuth</li></ul>   | <ul><li>Basic</li><li>OAuth</li><li>Auth-TLS</li></ul>      | <ul><li>Basic</li><li>Auth-url</li><li>Auth-TLS</li><li>External Auth</li></ul>     |
| Graphical user interface    |    Grafana can be used to check the metrics    | Grafana or Datadog can be used to check the metrics       | Traefik has its own dashboard included      |

##### * HTTP2

A binary protocol (revision of HTTP versions) which introduces the concept of full requests and response multiplexing. This led to achieving efficiency in terms of:

* Network Speed
* Security
* Reliability
* Compression
* Multiplexing

This is a summary derived from <a href="https://cheapsslsecurity.com/p/http2-vs-http1/">Reference</a>


##### * gRPC

* It is a modern lighweight communication protocol to connect services efficiently in and across the data centers with siupport for loadbaalncing, health-check, authentication and tracing.
* Based on protocol buffer which is basically an open source mechanism in order to serialize the structed data and is language and platform neutral.
* Works effectively with L7 or application layer proxy loadbalancing.

Here are the reference list: <a href="https://www.capitalone.com/tech/software-engineering/grpc-framework-for-microservices-communication/">gRPC framework</a>, <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/performance?view=aspnetcore-6.0">gRPC performance</a>


##### * Regex - Regular Expression

The ingress controller supports case insensitive regular expressions in the spec.rules.http.paths.path field. This can be enabled by setting the nginx.ingress.kubernetes.io/use-regex annotation to true (the default is false). Reference: <a href="https://kubernetes.github.io/ingress-nginx/user-guide/ingress-path-matching/">Read here</a>

The comparison table is inspired by: <a href="https://kubevious.io/blog/post/comparing-top-ingress-controllers-for-kubernetes">Read here</a>

After an investgation for the differences between variations of ingress controllers, my practical demonstrations implemented with:

* <a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Demo/Certificate_with_k3s+traefik/README.md"><code>Traefik</code></a>

* <a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/blob/main/K3s/Demo/Certificate_with_k3s+nginx/README.md"><code>Nginx</code></a>

* <a href="https://github.com/dikshita-git/RP_Ingress_security-IPv4_and_IPv6/tree/main/K3s/Demo/Certificate_with_k3s%2BHaProxy#readme"><code>HaProxy</code></a>


